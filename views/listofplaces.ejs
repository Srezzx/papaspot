<%- include("partials/header"); %>
<style>
    .restraunt-list-img {
        height: 200px;
        width: 100%;
    }

    .side-menu {
        background-color: #f7f7f7;
        display: flex;
        flex-direction: column;
        height: 1000px;
        justify-content: center;
        align-items: center;
    }

    .restraunt-list-item {
        background-color: #f7f7f7;
        border-radius: 5px;
        padding: 0%;
        margin: 0 1% 2% 1%;

    }

    .restraunt-list-item:hover {
        background-color: #eeeded;
        border-radius: 5px;
        padding: 0%;
        margin: 0 1% 2% 1%;

    }

    .form {
        position: relative;
        margin-bottom: 5rem;
    }

    input.list-searchbar {
        width: 50%;
        height: 50px;
        padding: 10x;
        padding-left: 60px;
        border-radius: 10px;
        background-color: rgb(0, 27, 66, 0.85);
        border: none;
        color: white;
        font-size: 24px;
        font-family: "Dosis", sans-serif;
        outline: none;
        box-shadow: 6px 4px 10px #222;
        border: 1px black solid;


    }

    .ico {
        position: relative;
        top: 15px;
        left: 40px;
        color: white;
        font-size: 24px;
    }

    .blink {
        transform: rotate(90deg);
        animation: outFocus 1s infinite ease-in-out;
    }

    .search {
        transition: 1s;
        animation: onFocus 1s 1 ease-in-out;
    }

    @keyframes outFocus {
        to {
            opacity: 0;
        }

        from {
            opacity: 1;
        }
    }

    @keyframes onFocus {
        to {
            transform: rotateY(0deg);
        }

        from {
            transform: rotateY(90deg);
        }
    }


    @media only screen and (max-width: 768px) {
        input.list-searchbar {
            font-size: 16px;
            width: 85%;
        }

        .ico {
            font-size: 16px;
        }
    }

    .card {
        border: 1px transparent solid;
        position: relative;
        border-radius: 5px;

    }

    .card:hover {
        -moz-box-shadow: inset 0 0 10px #000000;
        -webkit-box-shadow: inset 0 0 10px #000000;
        box-shadow: inset 0 0 10px #000000;
        transition: 0.2s;

    }

    p.restraunt-list-card-font {
        color: grey;
        font-size: 0.9rem;
        text-align: left;
        line-height: 1.1rem;
        margin-bottom: 4px;
        margin-top: 4px;
    }

    h6.restraunt-list-card-font {
        font-size: 1.1rem;
        text-align: left;
    }

    .restraunt-card-icon {

        background-color: black;
        padding: 3px 3px 4px 3px;
        border-radius: 3px;
        font-size: 120%;
        color: white;
        margin-right: 10px;
    }

    .restraunt-list-img {
        opacity: 0.95;
    }

    .restraunt-list-img:hover {
        opacity: 1;

    }
</style>
<div class="container">
    <div style="margin-top:10rem">
        <div class="row justify-content-center align-items-start form">
            <span class="fas ico"></span><input id="myInput" placeholder="What are you looking for? " name="searchbar"
                class="list-searchbar" type="text">
        </div>
        <div data-aos-offset="" data-aos-duration="350" data-aos="zoom-in" class="row">
            <% allplaces.forEach(function(place){ 
                if(show === place.type){ %>
            <a style="text-decoration:none;" href="/<%= place.type %>/<%= place._id %>">
                <div class="col-lg-4 col-md-6 col-xs-12 mb-4 areatosearch">
                    <div style="padding:3%;" class="card">
                        <img style="border-radius:5px;" src="images/<%= place.identity %>-1.png" alt="Place Image"
                            class="restraunt-list-img">
                        <div style="padding:0;" class="">
                            <div style="margin:0; padding:1rem 0 0 0rem ;" class="card-heade">
                                <h6 class="restaurant-name restraunt-list-card-font"><%= place.name %></h6>
                                <p class="restraunt-list-card-font"><i class="restraunt-card-icon fas fa-star"></i><span
                                        style="font-size:115%;"><%= place.rating %></span>
                                </p>
                                <% if(place.cuisine && (place.cuisine).length > 2) { %>
                                <p class="cuisine restraunt-list-card-font">Cuisine : <%= place.cuisine %></p>
                                <% } %>
                                <p class="restraunt-list-card-font">Near : <%= place.nearby %></p>
                                <% if(place.ac && (place.ac).length > 2) { %>
                                <p class="restraunt-list-card-font">AC : <%= place.ac %></p>
                                <% }else{ %>
                                <p class="restraunt-list-card-font"> &nbsp</p>
                                <% } %>
                                <% if(place.crowd && (place.crowd).length > 2) { %>
                                <p class="restraunt-list-card-font">Crowd : <%= place.crowd %></p>
                                <% }else{ %>
                                <p class="restraunt-list-card-font">&nbsp </p>
                                <% } %>
                                <p style="visibility: hidden; font-size:1px;"><%= place.subtype %></p>
                            </div>
                            <form action="/<%= place.type %>/<%= place._id %>">
                                <div style="margin:0;" class=" row">
                                    <button type="submit    " class="ml-auto   btn  btn-section-2-mid">More<i
                                            class="ml-1 fas fa-arrow-circle-right"></i>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
            </a>
        </div>
        <%  }}); %>
    </div>
</div>
</div>
<script>
    $(document).ready(function () {
        $(".ico").addClass("fa-minus blink rotate");
        $("input.list-searchbar").focus(function () {
            $(".ico").addClass("fa-search search");
            $(".ico").removeClass("fa-minus blink");
        });
        $("input").focusout(function () {
            $(".ico").addClass("fa-minus blink");
            $(".ico").removeClass("search");
        });
    });
</script>

<script>
    $(document).ready(function () {

        $("#myInput").on("keyup", function () {
            var x = 0;
            var value = $(this).val().toLowerCase();
            $(' div.areatosearch').css("display", "none");
            var y = -1;
            $("div.areatosearch").filter(function (e, f, g) {
                y++;
                return $(this).text().toLowerCase().indexOf(value) > -1;
            }).show();
            if (x === 0) {
                //put result when no search is matched
            }
        })
    });
</script>

<%- include("partials/footer"); %>